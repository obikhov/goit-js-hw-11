{"version":3,"file":"main-C9TYuMKg.js","sources":["../../src/js/pixabay-api.js","../../src/js/render-functions.js","../../src/main.js"],"sourcesContent":["const API_KEY = '47470900-b8e0eef515806370832377144'; // Замените на ваш API ключ от Pixabay\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error('Failed to fetch images');\n  }\n\n  return await response.json();\n}\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n\nexport function renderImages(gallery, images) {\n  if (!Array.isArray(images)) {\n    console.error('renderImages received non-array data');\n    return;\n  }\n\n  const markup = images\n    .map(\n      (image) => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.add('hidden');\n}\n\n","import { fetchImages } from './js/pixabay-api.js';\n\nimport { clearGallery, renderImages, showLoader, hideLoader } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n\n  const searchQuery = form.elements.query.value.trim();\n  if (searchQuery === '') {\n    iziToast.error({\n      message: 'Please enter a search query',\n    });\n    return;\n  }\n\n  clearGallery(gallery);\n  showLoader();\n\n  try {\n    const data = await fetchImages(searchQuery);\n\n    if (Array.isArray(data.hits) && data.hits.length > 0) {\n      renderImages(gallery, data.hits);\n      hideLoader();\n    } else {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      hideLoader();\n    }\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      message: 'Something went wrong. Please try again later.',\n    });\n    hideLoader();\n  }\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","clearGallery","gallery","renderImages","images","markup","image","SimpleLightbox","showLoader","hideLoader","form","onSearch","event","searchQuery","iziToast","data","error"],"mappings":"ivBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAMG,CAAK,2DAC3CE,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OAAO,MAAMA,EAAS,MACxB,CCTO,SAASC,EAAaC,EAAS,CACpCA,EAAQ,UAAY,EACtB,CAEO,SAASC,EAAaD,EAASE,EAAQ,CAC5C,GAAI,CAAC,MAAM,QAAQA,CAAM,EAAG,CAC1B,QAAQ,MAAM,sCAAsC,EACpD,MACD,CAED,MAAMC,EAASD,EACZ,IACEE,GAAU;AAAA,mBACEA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA,aAEvD,EACA,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,YAAaG,CAAM,EAE7B,IAAIE,EAAe,YAAY,EACvC,QAAO,CAClB,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CAC/B,CC9BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CR,EAAU,SAAS,cAAc,UAAU,EAEjDQ,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EAEpB,MAAMC,EAAcH,EAAK,SAAS,MAAM,MAAM,OAC9C,GAAIG,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,QAAS,6BACf,CAAK,EACD,MACD,CAEDb,EAAaC,CAAO,EACpBM,IAEA,GAAI,CACF,MAAMO,EAAO,MAAMlB,EAAYgB,CAAW,EAEtC,MAAM,QAAQE,EAAK,IAAI,GAAKA,EAAK,KAAK,OAAS,GACjDZ,EAAaD,EAASa,EAAK,IAAI,EAC/BN,MAEAK,EAAS,MAAM,CACb,QAAS,0EACjB,CAAO,EACDL,IAEH,OAAQO,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACb,QAAS,+CACf,CAAK,EACDL,GACD,CACH"}